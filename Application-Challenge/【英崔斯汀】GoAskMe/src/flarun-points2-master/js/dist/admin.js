module.exports=function(t){var n={};function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(o,i,function(n){return t[n]}.bind(null,i));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=29)}([function(t,n,e){"use strict";function o(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}e.d(n,"a",(function(){return o}))},function(t,n){t.exports=flarum.core.compat["components/Button"]},function(t,n){t.exports=flarum.core.compat.Model},function(t,n){t.exports=flarum.core.compat.extend},function(t,n){t.exports=flarum.core.compat.Component},function(t,n){t.exports=flarum.core.compat["components/Alert"]},function(t,n){t.exports=flarum.core.compat["components/Page"]},function(t,n){t.exports=flarum.core.compat["utils/mixin"]},function(t,n){t.exports=flarum.core.compat["components/LoadingIndicator"]},,,,,,,,,function(t,n){t.exports=flarum.core.compat["components/AdminNav"]},function(t,n){t.exports=flarum.core.compat["components/AdminLinkButton"]},function(t,n){t.exports=flarum.core.compat["components/Placeholder"]},,,,,,,,,,function(t,n,e){"use strict";e.r(n);var o=e(3),i=e(17),s=e.n(i),r=e(18),a=e.n(r),c=e(0),l=e(1),u=e.n(l),p=e(8),f=e.n(p),d=e(19),h=e.n(d),g=e(6),v=e.n(g),y=e(4),x=e.n(y),b=e(5),k=e.n(b),P=function(t){function n(){return t.apply(this,arguments)||this}Object(c.a)(n,t);var e=n.prototype;return e.init=function(){this.item=this.props.bannedIP,this.viewButton=u.a.component({className:"Button Button--link",children:"确定",onclick:function(){app.alerts.dismiss(void 0)}})},e.view=function(){var t=this;return m("tr",{className:"PermissionGrid-child"},m("td",null,this.item.owner.username),m("td",null,this.item.type),m("td",null,this.item.amount),m("td",null,this.item.current),m("td",null,this.item.extra),m("td",null,this.item.created_at),m("td",null,m("div",{className:"Button--group"},u.a.component({className:"Button Button--warning",icon:"fas fa-check",onclick:function(){t.doCheck("converDown")}}),u.a.component({className:"Button Button--danger",icon:"fas fa-times",onclick:function(){t.doCheck("converReject")}}))))},e.doCheck=function(t){var n=this;m.request({method:"GET",url:"/api/points/check",data:{id:this.item.id,type:t}}).then((function(t){n.succesAlert(t),n.item.type=t.type,m.redraw()}))},e.succesAlert=function(t){var n,e=u.a.component({className:"Button Button--link",children:"确定",onclick:function(){app.alerts.dismiss(n)}});app.alerts.show(n=new k.a({type:"success",children:"change iteam type to "+t.type,controls:[e]}))},e.errorAlert=function(t){var n,e=u.a.component({className:"Button Button--link",children:"确定",onclick:function(){app.alerts.dismiss(n)}});app.alerts.show(n=new k.a({type:"error",children:JSON.stringify(t),controls:[e]}))},n}(x.a),B=function(t){function n(){return t.apply(this,arguments)||this}Object(c.a)(n,t);var e=n.prototype;return e.init=function(){t.prototype.init.call(this),this.loading=!0,this.page=0,this.pageSize=20},e.config=function(n){t.prototype.config.apply(this,arguments),n||this.refresh()},e.view=function(){var t,n;return!0===this.nextResults&&(t=u.a.component({className:"Button Button--PageList-next",icon:"fas fa-angle-right",onclick:this.loadNext.bind(this)})),!0===this.prevResults&&(n=u.a.component({className:"Button Button--PageList-prev",icon:"fas fa-angle-left",onclick:this.loadPrev.bind(this)})),m("div",{className:"ExtensionsPage"},m("div",{className:"ExtensionsPage-header"},m("div",{className:"container"},"头标题描述部分")),m("br",null),m("div",{className:"BannedIpsPage-table"},m("div",{className:"container"},this.loading?f.a.component():app.store.all("points/list")[0].data.list.length?m("table",{style:{width:"100%",textAlign:"center"},className:"PermissionGrid PointsList"},m("thead",null,m("tr",{className:"PermissionGrid-section"},m("th",null,"用户名"),m("th",null,"类型"),m("th",null,"扣除Points"),m("th",null,"剩余Points"),m("th",null,"钱包地址"),m("th",null,"提交时间"),m("th",null,"操作"))),m("tbody",null,app.store.all("points/list")[0].data.list.map((function(t){return P.component({bannedIP:t})})))):m("div",null,h.a.component({text:app.translator.trans("goaskme-points.admin.empty_text")})))),m("div",null,n,t))},e.refresh=function(){return app.store.all("points/list").length&&(app.store.all("points/list")[0].data.list=[]),this.loadResults().then(this.parseResults.bind(this))},e.loadResults=function(){this.loading=!0;var t=this.page*this.pageSize;return app.store.find("points/list",{offset:t,limit:this.pageSize})},e.loadNext=function(){!0===this.nextResults&&(this.page++,this.refresh())},e.loadPrev=function(){!0===this.prevResults&&(this.page--,this.refresh())},e.parseResults=function(t){this.loading=!1,this.nextResults=!!t.data.next,this.prevResults=!!t.data.prev,m.lazyRedraw()},n}(v.a),N=e(2),w=e.n(N),j=e(7),O=function(t){function n(){return t.apply(this,arguments)||this}return Object(c.a)(n,t),n}(e.n(j)()(w.a,{}));app.initializers.add("goaskme/points-convert",(function(){console.log("[goaskme/points-convert Hello, admin5555!"),app.routes["goaskme-points-convert"]={path:"/goaskme/points-convert",component:B.component()},app.extensionSettings["goaskme-points-convert"]=function(){return m.route(app.route("goaskme-points-convert"))},app.store.models["points/list"]=O,Object(o.extend)(s.a.prototype,"items",(function(t){t.add("goaskme-points-convert",a.a.component({href:app.route("goaskme-points-convert"),icon:"fas fa-gavel",children:"Points Bill",description:"Points convert check here"}))}))}))}]);
//# sourceMappingURL=admin.js.map
