<!DOCTYPE html>
<html lang="en">

<head>
    <title>登录</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="./assets/css/login.css" type="text/css" media="all" />
    <link href="./assets/css/font-awesome.css" rel="stylesheet">
</head>

<body>
<section class="w3l-form-36">
    <div class="form-36-mian section-gap">
        <div class="wrapper">
            <div class="form-inner-cont">
                <h3>Coco课堂登录</h3>
                <div class="form-input">
                    <span class="fa fa-envelope-o" aria-hidden="true"></span>
                    <input type="text" name="name" id="username" placeholder="请输入用户名" required value="test01"/>
                </div>
                <div class="form-input">
                    <span class="fa fa-key" aria-hidden="true"></span>
                    <input type="password" name="password" id="password" value="123456"
                           placeholder="请输入密码"
                           required />
                </div>
                <div class="login-remember ">
                    <button class="btn theme-button" style="width: 100%" id="login_btn">登录</button>
                </div>
                <p class="signup">
                    测试账号：<br />
                    test01<br />
                    test02<br />
                    test03<br />

                    <br />
                    测试密码：123456
                </p>
            </div>

            <div class="copy-right">
                <p>RTE 2021 编程挑战赛 参赛作品</p>
            </div>
        </div>
    </div>
</section>
<script src="./assets/js/jquery-3.4.1.min.js"></script>
<script>
    window.onload=function(){
        $("#login_btn").on("click", function () {
            var username = $("#username").val();
            var password = $("#password").val();

            if(username==""){
                toast("请输入用户名");
                return;
            }

            if(password==""){
                toast("请输入密码");
                return;
            }

            /***
             *  业务校验登录身份信息
             *  此处应对接入您的后端服务，用于校验用户身份和权限
             */
            var user_list=["test01","test01","test03"];
            if(user_list.indexOf(username)==-1){
                toast("用户名不存在");
                return;
            }
            if(password!=123456){
                toast("密码错误");
                return;
            }

            localStorage.setItem("coco_lesson_userid",username);
            location.href="./student.html";
        });

        function toast(msg, duration) {
            $("#coco_toast").remove();
            duration = isNaN(duration) ? 1500 : duration;
            var m = document.createElement('div');
            m.id = "coco_toast";
            m.innerHTML = msg;
            m.style.cssText = "max-width:60%;min-width: 150px;padding:0 14px;height: 40px;color: rgb(255, 255, 255);line-height: 40px;text-align: center;border-radius: 4px;position: fixed;top: 50%;left: 50%;transform: translate(-50%, -50%);z-index: 999999;background: rgba(0, 0, 0,.7);font-size: 16px;";
            document.body.appendChild(m);
            setTimeout(function () {
                var d = 0.5;
                m.style.webkitTransition = '-webkit-transform ' + d + 's ease-in, opacity ' + d + 's ease-in';
                m.style.opacity = '0';
                setTimeout(function () {
                    document.body.removeChild(m)
                }, d * 1000);
            }, duration);
        }
    }
</script>
</body>
</html>